<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/page.css">
    <title>Document</title>
</head>

<body>
    <section>
        <div class="first">
            <h2>PROGRAM</h2>
            <h4> 
              //Create multiple threads, show an example of notify, notifyall, wait, resume, sleep methods. 
           </h4>
<pre>
  // File: InterThreadCommunication.java

class SharedResource {
    private int data;
    private boolean hasData = false;

    // Producer puts data into the shared resource
    public synchronized void produce(int value) {
        while (hasData) {
            try {
                wait(); // wait until data is consumed
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
        data = value;
        System.out.println(Thread.currentThread().getName() + " produced: " + data);
        hasData = true;
        notify(); // wake up consumer
    }

    // Consumer takes data from the shared resource
    public synchronized void consume() {
        while (!hasData) {
            try {
                wait(); // wait until data is produced
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
        System.out.println(Thread.currentThread().getName() + " consumed: " + data);
        hasData = false;
        notify(); // wake up producer
    }
}

// Producer thread
class Producer extends Thread {
    private SharedResource resource;

    public Producer(SharedResource resource, String name) {
        super(name);
        this.resource = resource;
    }

    @Override
    public void run() {
        for (int i = 1; i &lt;= 5; i++) {
            resource.produce(i);
            try {
                Thread.sleep(500); // simulate time delay
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }
}

// Consumer thread
class Consumer extends Thread {
    private SharedResource resource;

    public Consumer(SharedResource resource, String name) {
        super(name);
        this.resource = resource;
    }

    @Override
    public void run() {
        for (int i = 1; i &lt;= 5; i++) {
            resource.consume();
            try {
                Thread.sleep(700); // simulate processing delay
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }
}

// Main class
public class InterThreadCommunication {
    public static void main(String[] args) {
        SharedResource resource = new SharedResource();

        Producer producer = new Producer(resource, "Producer");
        Consumer consumer = new Consumer(resource, "Consumer");

        producer.start();
        consumer.start();

        try {
            producer.join();
            consumer.join();
        } catch (InterruptedException e) {
            e.printStackTrace();
        }

        System.out.println("\n✅ All threads finished execution!");
    }
}  

</pre>
        </div>
        <div>
           <h2>OUTPUT</h2>
<pre>
   Producer produced: 1
Consumer consumed: 1
Producer produced: 2
Consumer consumed: 2
Producer produced: 3
Consumer consumed: 3
Producer produced: 4
Consumer consumed: 4
Producer produced: 5
Consumer consumed: 5

✅ All threads finished execution!
                  
</pre>

        </div>
    </section>

</body>

</html>