<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/page.css">
    <title>Document</title>
</head>

<body>
    <section>
        <div class="first">
            <h2>PROGRAM</h2>
            <h4> 
              //create a bank account with concurrent deposits and withdrawals using threads. 
           </h4>
<pre>
 // File: BankAccountThreadDemo.java

// BankAccount class ‚Äî shared by all threads
class BankAccount {
    private double balance;

    public BankAccount(double initialBalance) {
        this.balance = initialBalance;
    }

    // Synchronized deposit method
    public synchronized void deposit(double amount) {
        System.out.println(Thread.currentThread().getName() + " depositing " + amount);
        balance += amount;
        System.out.println(Thread.currentThread().getName() + " new balance after deposit: " + balance);
    }

    // Synchronized withdraw method
    public synchronized void withdraw(double amount) {
        System.out.println(Thread.currentThread().getName() + " withdrawing " + amount);
        if (balance &gt;= amount) {
            balance -= amount;
            System.out.println(Thread.currentThread().getName() + " new balance after withdrawal: " + balance);
        } else {
            System.out.println(Thread.currentThread().getName() + " insufficient funds! Current balance: " + balance);
        }
    }

    public synchronized double getBalance() {
        return balance;
    }
}

// Thread for deposits
class DepositThread extends Thread {
    private BankAccount account;
    private double amount;

    public DepositThread(BankAccount account, double amount, String name) {
        super(name);
        this.account = account;
        this.amount = amount;
    }

    public void run() {
        for (int i = 0; i &lt; 3; i++) {  // deposit 3 times
            account.deposit(amount);
            try {
                Thread.sleep(100); // simulate time delay
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }
}

// Thread for withdrawals
class WithdrawThread extends Thread {
    private BankAccount account;
    private double amount;

    public WithdrawThread(BankAccount account, double amount, String name) {
        super(name);
        this.account = account;
        this.amount = amount;
    }

    public void run() {
        for (int i = 0; i &lt; 3; i++) {  // withdraw 3 times
            account.withdraw(amount);
            try {
                Thread.sleep(120); // simulate time delay
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }
}

// Main class
public class BankAccountThreadDemo {
    public static void main(String[] args) throws InterruptedException {
        BankAccount account = new BankAccount(1000); // initial balance

        DepositThread t1 = new DepositThread(account, 200, "Depositor-1");
        DepositThread t2 = new DepositThread(account, 150, "Depositor-2");
        WithdrawThread t3 = new WithdrawThread(account, 100, "Withdrawer-1");
        WithdrawThread t4 = new WithdrawThread(account, 300, "Withdrawer-2");

        // Start threads
        t1.start();
        t2.start();
        t3.start();
        t4.start();

        // Wait for all threads to finish
        t1.join();
        t2.join();
        t3.join();
        t4.join();

        System.out.println("\nüè¶ Final Account Balance: " + account.getBalance());
    }
}     

</pre>
        </div>
        <div>
           <h2>OUTPUT</h2>
<pre>
  Depositor-1 depositing 200
Depositor-1 new balance after deposit: 1200.0
Depositor-2 depositing 150
Depositor-2 new balance after deposit: 1350.0
Withdrawer-1 withdrawing 100
Withdrawer-1 new balance after withdrawal: 1250.0
Withdrawer-2 withdrawing 300
Withdrawer-2 new balance after withdrawal: 950.0
...
üè¶ Final Account Balance: 1150.0
                   
</pre>

        </div>
    </section>

</body>

</html>